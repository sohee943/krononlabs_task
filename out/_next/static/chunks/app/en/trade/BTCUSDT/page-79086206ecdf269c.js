(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{5943:(e,s,r)=>{Promise.resolve().then(r.bind(r,8179))},8179:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var l=r(5155),n=r(7066),a=r(5906),t=r(2115),i=r(8629);function c(){let[e,s]=(0,t.useState)(""),{data:r,isLoading:n,isError:a}=(0,i.I)({queryKey:["symbols"],queryFn:async()=>(await fetch("https://api.binance.com/api/v3/exchangeInfo")).json()});if(n)return(0,l.jsx)("div",{children:"로딩중..."});if(a)return(0,l.jsx)("div",{children:"에러가 발생했습니다."});let c=r.symbols.filter(s=>s.symbol.toUpperCase().includes(e.toUpperCase()));if(r)return(0,l.jsxs)("div",{className:"w-1/6 h-[60vh] overflow-scroll",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search coins",value:e,onChange:e=>s(e.target.value),className:"p-2 border rounded"}),(0,l.jsx)("ul",{className:"h-[60vh] p-2",children:c.length>0?c.map(e=>(0,l.jsxs)("li",{className:"cursor-pointer hover:bg-gray-200 p-1",children:[e.symbol," (",e.baseAsset," / ",e.quoteAsset,")"]},e.symbol)):(0,l.jsx)("li",{children:"No coins found"})})]})}var d=r(6534);let o=(0,d.eU)({key:"priceState",default:""});async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BTCUSDT",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="https://api.binance.com/api/v3/depth?symbol=".concat(e,"&limit=").concat(s),l=await fetch(r),n=await l.json(),a=0,t=0;return{asks:n.asks.map(e=>{let[s,r]=e;return{priceStr:(+s).toFixed(2),quantityStr:(+r).toFixed(2),askTotalString:(t+=parseFloat(r)).toFixed(2)}}),bids:n.bids.map(e=>{let[s,r]=e;return{priceStr:(+s).toFixed(2),quantityStr:(+r).toFixed(2),bidTotalString:(a+=parseFloat(r)).toFixed(2)}})}}function u(e){let{symbol:s="BTCUSDT"}=e,{data:r,error:n,isLoading:a}=(0,i.I)({queryKey:["orderBook",s],queryFn:()=>h(s),refetchInterval:2e3,staleTime:1e3}),t=(0,d.lZ)(o);return a?(0,l.jsx)("div",{children:"Loading order book..."}):n?(0,l.jsx)("div",{children:"Error loading order book"}):r?(0,l.jsxs)("div",{className:"w-72 border rounded bg-gray-100",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-red-500 font-bold",children:"Sell Orders(USDT)"}),(0,l.jsx)("span",{className:"ml-4",children:"price"}),(0,l.jsx)("span",{className:"ml-4",children:"quantity"}),(0,l.jsx)("span",{className:"ml-4",children:"askTotalString"}),(0,l.jsx)("ul",{children:r.asks.map((e,s)=>{let{priceStr:r,quantityStr:n,askTotalString:a}=e;return(0,l.jsxs)("li",{className:"cursor-pointer text-red-600 hover:bg-red-100 p-2",onClick:()=>t(r),children:[(0,l.jsx)("span",{className:"ml-3",children:r}),(0,l.jsx)("span",{className:"ml-3",children:n}),(0,l.jsx)("span",{className:"ml-3",children:a})]},s)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-green-500 font-bold",children:"Buy Orders(USDT)"}),(0,l.jsx)("ul",{children:r.bids.map((e,s)=>{let{priceStr:r,quantityStr:n,bidTotalString:a}=e;return(0,l.jsxs)("li",{className:"cursor-pointer text-green-600 hover:bg-green-100 p-2",onClick:()=>t(r),children:[(0,l.jsx)("span",{className:"ml-3",children:r}),(0,l.jsx)("span",{className:"ml-3",children:n}),(0,l.jsx)("span",{className:"ml-3",children:a})]},s)})})]})]}):void 0}function p(){return(0,l.jsx)("div",{className:"bg-gray-500",children:(0,l.jsx)("input",{type:"number",id:"priceInput",placeholder:"가격 입력"})})}function x(){console.log("this is coinview");let[e]=(0,t.useState)(()=>new n.E);return(0,l.jsx)(a.Ht,{client:e,children:(0,l.jsxs)("div",{className:" justify-center flex h-screen w-screen text-xs",children:[(0,l.jsx)(c,{}),(0,l.jsxs)("div",{className:"  w-3/5 h-screen",children:[(0,l.jsx)("div",{className:" bg-gray-300 w-auto h-[50%]",children:"chart"}),(0,l.jsx)(p,{})]}),(0,l.jsx)(u,{})]})})}(0,d.eU)({key:"cryptocurrency",default:"BTCUSDT"})}},e=>{var s=s=>e(e.s=s);e.O(0,[171,392,441,517,358],()=>s(5943)),_N_E=e.O()}]);